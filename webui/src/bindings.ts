/*
 Generated by typeshare 1.9.2
*/

export type PlayerId = number;

/** A single field arc -- eg. the center circle */
export interface FieldCircularArc {
	/** Readable name of the arc */
	name: string;
	/** Center of the arc, in dies coordinates */
	center: Vector2;
	radius: number;
	a1: number;
	a2: number;
	thickness: number;
}

/** A single field line segment */
export interface FieldLineSegment {
	/** Readable name of the line segment */
	name: string;
	/** Start Vector2 of the line segment, in dies coordinates */
	p1: Vector2;
	/** End Vector2 of the line segment, in dies coordinates */
	p2: Vector2;
	/** Thickness of the line segment, in mm */
	thickness: number;
}

/** The field geometry. */
export interface FieldGeometry {
	/** Field length (distance between goal lines) in mm */
	field_length: number;
	/** Field width (distance between touch lines) in mm */
	field_width: number;
	/** Goal width (distance inner edges of goal posts) in mm */
	goal_width: number;
	/** Goal depth (distance from outer goal line edge to inner goal back) in mm */
	goal_depth: number;
	/** Boundary width (distance from touch/goal line centers to boundary walls) in mm */
	boundary_width: number;
	/** Generated line segments based on the other parameters */
	line_segments: FieldLineSegment[];
	/** Generated circular arcs based on the other parameters */
	circular_arcs: FieldCircularArc[];
}

/** A struct to store the ball state from a single frame. */
export interface BallData {
	/**
	 * Unix timestamp of the recorded frame from which this data was extracted (in
	 * seconds). This is the time that ssl-vision received the frame.
	 */
	timestamp: number;
	/** Position of the ball filtered by us, in mm, in dies coordinates */
	position: Vector3;
	/** Velocity of the ball in mm/s, in dies coordinates */
	velocity: Vector3;
}

/** The game state, as reported by the referee. */
export type GameState = 
	| { type: "Unknown", content?: undefined }
	| { type: "Halt", content?: undefined }
	| { type: "Timeout", content?: undefined }
	| { type: "Stop", content?: undefined }
	| { type: "PrepareKickoff", content?: undefined }
	| { type: "BallReplacement", content: Vector2 }
	| { type: "PreparePenalty", content?: undefined }
	| { type: "Kickoff", content?: undefined }
	| { type: "FreeKick", content?: undefined }
	| { type: "Penalty", content?: undefined }
	| { type: "PenaltyRun", content?: undefined }
	| { type: "Run", content?: undefined };

export interface GameStateData {
	/** The state of current game */
	game_state: GameState;
	/**
	 * If we are the main party currently performing tasks in the state.
	 * true for symmetric states(halt stop run timout)
	 */
	us_operating: boolean;
}

/** A struct to store the player state from a single frame. */
export interface PlayerData {
	/**
	 * Unix timestamp of the recorded frame from which this data was extracted (in
	 * seconds). This is the time that ssl-vision received the frame.
	 */
	timestamp: number;
	/** The player's unique id */
	id: PlayerId;
	/** Unfiltered position as reported by vision */
	raw_position: Vector2;
	/** Position of the player filtered by us in mm, in dies coordinates */
	position: Vector2;
	/** Velocity of the player in mm/s, in dies coordinates */
	velocity: Vector2;
	/**
	 * Orientation of the player, in radians, (`-pi`, `pi`), where `0` is the positive
	 * x direction, and `pi/2` is the positive y direction.
	 */
	orientation: number;
	/** Angular speed of the player (in rad/s) */
	angular_speed: number;
}

/** A struct to store the world state from a single frame. */
export interface WorldData {
	own_players: PlayerData[];
	opp_players: PlayerData[];
	ball?: BallData;
	field_geom?: FieldGeometry;
	current_game_state: GameStateData;
	duration: number;
}

/** An override command for a player for manual control. */
export type PlayerOverrideCommand = 
	/** Do nothing */
	| { type: "Stop", content?: undefined }
	/** Move the robot to a globel position and orientation */
	| { type: "MoveTo", content: {
	position: Vector2;
	orientation: number;
	dribble_speed: number;
	arm_kick: boolean;
}}
	/** Move the robot with velocity in local frame */
	| { type: "LocalVelocity", content: {
	velocity: Vector2;
	angular_velocity: number;
	dribble_speed: number;
	arm_kick: boolean;
}}
	/** Move the robot with velocity in global frame */
	| { type: "GlobalVelocity", content: {
	velocity: Vector2;
	angular_velocity: number;
	dribble_speed: number;
	arm_kick: boolean;
}}
	/** Engage the kicker */
	| { type: "Kick", content: {
	speed: number;
}}
	/** Discharge the kicker safely */
	| { type: "DischargeKicker", content?: undefined };

export type Vector2 = [number, number];
export type Vector3 = [number, number, number];